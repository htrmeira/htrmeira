{"name":"Heitor Meira (htrmeira)","tagline":"","body":"How to Create and Attach a New Disk to a KVM Instance\r\n\r\nqemu-img create -f raw maas-storage.img 50G\r\n\r\nThen, edit the .xml file of the instance:\r\n\r\nvirsh edit maas\r\n\r\nCreate a new disk entry:\r\n\r\n    <disk type='file' device='disk'>\r\n      <driver name='qemu' type='raw'/>\r\n      <source file='/local/virtual-machines/storage/maas-storage.img'/>\r\n      <target dev='vdb' bus='virtio'/>\r\n      <address type='pci' domain='0x0000' bus='0x00' slot='0x07' function='0x0'/>\r\n    </disk>\r\n\r\n\r\nNote that : <target dev='vdb' bus='virtio'/>, the dev must be unique on the file.\r\nThe same goes to the slot:\r\n<address type='pci' domain='0x0000' bus='0x00' slot='0x07' function='0x0'/>\r\n\r\nThen, restart the virtual machine.\r\n\r\nTo format the new disk, please look at: \r\nhttp://tldp.org/HOWTO/Partition/fdisk_partitioning.html\r\n\r\nhttp://www.linux-kvm.org/page/HOWTO1\r\n","google":"","note":"Don't delete this file! It's used internally to help with page regeneration."}